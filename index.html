{% comment %}
  V3GASBOI OFFICIAL THEME ENGINE (v2026.01)
  - DARK STREETWEAR AESTHETIC / NEON ACCENTS
  - HIGH-PERFORMANCE MOTION FX & WEBGL-STYLE OVERLAYS
  - FULLY RESPONSIVE FOR V3GASBOI.ONLINE
{% endcomment %}

<!doctype html>
<html class="no-js" lang="{{ request.locale.iso_code }}">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <link rel="preconnect" href="https://cdn.shopify.com" crossorigin>
    <meta name="theme-color" content="#07070b">

    <title>{{ page_title }} â€” {{ shop.name }}</title>

    {%- if page_description -%}
      <meta name="description" content="{{ page_description | escape }}">
    {%- endif -%}

    {{ content_for_header }}

    <style>
      /* --- CORE DESIGN SYSTEM --- */
      :root {
        --bg: #07070b;
        --bg-panel: #0d0d14;
        --accent: #b9ff1a; /* Neon Green */
        --accent-glow: rgba(185, 255, 26, 0.3);
        --text-main: #f0f0f5;
        --text-muted: #8e8e9c;
        --border: rgba(255, 255, 255, 0.08);
        --v3-gradient: linear-gradient(135deg, #b9ff1a 0%, #7a5cff 100%);
        --radius: 12px;
        --font-mono: 'JetBrains Mono', 'Fira Code', monospace;
      }

      /* --- GLOBAL RESET & FX --- */
      * { box-sizing: border-box; }
      body {
        margin: 0;
        background: var(--bg);
        color: var(--text-main);
        font-family: 'Inter', -apple-system, sans-serif;
        overflow-x: hidden;
        -webkit-font-smoothing: antialiased;
      }

      /* Scanline & Noise FX */
      body::before {
        content: "";
        position: fixed;
        inset: 0;
        background: linear-gradient(rgba(18, 16, 16, 0) 50%, rgba(0, 0, 0, 0.25) 50%),
                    linear-gradient(90deg, rgba(255, 0, 0, 0.03), rgba(0, 255, 0, 0.01), rgba(0, 0, 255, 0.03));
        background-size: 100% 4px, 3px 100%;
        pointer-events: none;
        z-index: 999;
        opacity: 0.15;
      }

      .noise {
        position: fixed;
        inset: 0;
        background-image: url("https://grainy-gradients.vercel.app/noise.svg");
        opacity: 0.05;
        pointer-events: none;
        z-index: 1000;
      }

      /* --- UI COMPONENTS --- */
      .header {
        height: 80px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        padding: 0 40px;
        border-bottom: 1px solid var(--border);
        backdrop-filter: blur(12px);
        position: sticky;
        top: 0;
        z-index: 100;
      }

      .logo {
        font-weight: 900;
        font-size: 24px;
        letter-spacing: -1px;
        background: var(--v3-gradient);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        text-transform: uppercase;
      }

      .nav-links { display: flex; gap: 30px; }
      .nav-link {
        text-decoration: none;
        font-size: 13px;
        font-weight: 500;
        color: var(--text-muted);
        text-transform: uppercase;
        letter-spacing: 1px;
        transition: 0.3s ease;
      }
      .nav-link:hover { color: var(--accent); text-shadow: 0 0 10px var(--accent-glow); }

      .cart-count {
        background: var(--accent);
        color: #000;
        padding: 2px 8px;
        border-radius: 20px;
        font-size: 11px;
        font-weight: 800;
        margin-left: 5px;
      }

      /* --- MAIN LAYOUT ENGINE --- */
      main { min-height: 80vh; position: relative; z-index: 1; }

      .container { max-width: 1400px; margin: 0 auto; padding: 0 20px; }

      /* --- REVEAL ANIMATIONS --- */
      .v3-reveal {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.8s cubic-bezier(0.2, 1, 0.3, 1);
      }
      .v3-reveal.active { opacity: 1; transform: translateY(0); }

      /* --- FOOTER --- */
      .footer {
        padding: 80px 0 40px;
        border-top: 1px solid var(--border);
        background: #09090f;
        margin-top: 100px;
      }

      .footer-grid {
        display: grid;
        grid-template-columns: 2fr 1fr 1fr 1fr;
        gap: 60px;
        margin-bottom: 60px;
      }

      .footer-tagline {
        color: var(--text-muted);
        font-size: 15px;
        line-height: 1.6;
        max-width: 300px;
      }

      .footer-heading {
        color: var(--text-main);
        font-size: 12px;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: 20px;
      }

      .footer-link {
        display: block;
        color: var(--text-muted);
        text-decoration: none;
        margin-bottom: 12px;
        font-size: 14px;
        transition: 0.2s;
      }
      .footer-link:hover { color: var(--accent); transform: translateX(5px); }

      .copyright {
        border-top: 1px solid var(--border);
        padding-top: 40px;
        text-align: center;
        font-size: 12px;
        color: #444;
        font-family: var(--font-mono);
      }

      /* --- BUTTONS & INPUTS --- */
      .v3-btn {
        background: var(--accent);
        color: #000;
        border: none;
        padding: 14px 28px;
        font-weight: 800;
        text-transform: uppercase;
        border-radius: 4px;
        cursor: pointer;
        transition: 0.3s;
      }
      .v3-btn:hover {
        transform: scale(1.05);
        box-shadow: 0 0 25px var(--accent-glow);
      }

      /* Mobile Adjustments */
      @media (max-width: 768px) {
        .header { padding: 0 20px; }
        .nav-links { display: none; }
        .footer-grid { grid-template-columns: 1fr; gap: 40px; }
      }
    </style>
  </head>

  <body class="template-{{ template | handle }}">
    <div class="noise"></div>
    
    <header class="header">
      <a href="/" class="logo">V3GASBOI</a>
      
      <nav class="nav-links">
        <a href="/collections/all" class="nav-link">Shop</a>
        <a href="/pages/movement" class="nav-link">Movement</a>
        <a href="/pages/hustle" class="nav-link">The Hustle</a>
      </nav>

      <div class="header-actions">
        <a href="/cart" class="nav-link">
          Cart <span class="cart-count">{{ cart.item_count }}</span>
        </a>
      </div>
    </header>

    <main id="MainContent" role="main" tabindex="-1">
      <div class="v3-reveal-container">
        {{ content_for_layout }}
      </div>
    </main>

    <footer class="footer">
      <div class="container">
        <div class="footer-grid">
          <div>
            <div class="logo" style="margin-bottom: 20px;">V3GASBOI</div>
            <p class="footer-tagline">
              The Voice of the Vegas. The Sound & Movement. 
              Independence Code Since 1998.
            </p>
          </div>
          <div>
            <h4 class="footer-heading">Support</h4>
            <a href="/pages/contact" class="footer-link">Contact</a>
            <a href="/pages/shipping" class="footer-link">Shipping</a>
            <a href="/pages/returns" class="footer-link">Returns</a>
          </div>
          <div>
            <h4 class="footer-heading">Brand</h4>
            <a href="/pages/about" class="footer-link">Our Story</a>
            <a href="/blogs/news" class="footer-link">Vlog</a>
            <a href="/pages/wholesale" class="footer-link">Retail</a>
          </div>
          <div>
            <h4 class="footer-heading">Social</h4>
            <a href="#" class="footer-link">Instagram</a>
            <a href="#" class="footer-link">YouTube</a>
            <a href="#" class="footer-link">Spotify</a>
          </div>
        </div>
        
        <div class="copyright">
          &copy; {{ 'now' | date: "%Y" }} V3GASBOI ENT. / 88MOB GLOBAL. POWERED BY INDEPENDENCE.
        </div>
      </div>
    </footer>

    <script>
      // --- MOTION ENGINE ---
      document.addEventListener('DOMContentLoaded', () => {
        // Scroll Reveal Logic
        const observerOptions = {
          threshold: 0.1,
          rootMargin: "0px 0px -50px 0px"
        };

        const revealObserver = new IntersectionObserver((entries) => {
          entries.forEach(entry => {
            if (entry.isIntersecting) {
              entry.target.classList.add('active');
            }
          });
        }, observerOptions);

        // Apply reveal to sections automatically
        document.querySelectorAll('section, .product-card, .hero').forEach(el => {
          el.classList.add('v3-reveal');
          revealObserver.observe(el);
        });

        // Magnetic Button Effect for Logo
        const logo = document.querySelector('.logo');
        document.addEventListener('mousemove', (e) => {
          const { clientX, clientY } = e;
          const { left, top, width, height } = logo.getBoundingClientRect();
          const centerX = left + width / 2;
          const centerY = top + height / 2;
          
          const distance = Math.hypot(clientX - centerX, clientY - centerY);
          
          if (distance < 100) {
            const x = (clientX - centerX) * 0.2;
            const y = (clientY - centerY) * 0.2;
            logo.style.transform = `translate(${x}px, ${y}px)`;
          } else {
            logo.style.transform = `translate(0, 0)`;
          }
        });
      });

      // Quick-add cart interaction
      async function addToCart(variantId) {
        let formData = { 'items': [{ 'id': variantId, 'quantity': 1 }] };
        const res = await fetch('/cart/add.js', {
          method: 'POST',
          headers: { 'Content-Type': 'application/json' },
          body: JSON.stringify(formData)
        });
        if(res.ok) window.location.href = '/cart';
      }
    </script>
  </body>
</html>
